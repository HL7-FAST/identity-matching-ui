/* Material 3 App Component Styles */

.sidenav-container {
  height: 100vh;
  background-color: var(--mat-sys-background);
}

.main-content {
  height: calc(100vh - 64px); /* Subtract main toolbar height */
  overflow-y: auto;
  overflow-x: hidden;
  padding: 0; /* Remove any default padding */
}

/* Ensure pages with their own toolbars don't overflow */
.main-content .content {
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.main-content .page-header-bar {
  flex-shrink: 0; /* Don't shrink the page header */
}

.main-content .mat-grid-list {
  flex: 1;
  overflow-y: auto;
}

.sidenav {
  width: 280px;
  background-color: var(--mat-sys-surface-container);
  border-right: 1px solid var(--mat-sys-outline-variant);
  transition: width 250ms cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* CSS Grid approach for perfect centering */
.mat-drawer.collapsed {
  width: 72px !important;
  overflow: hidden;
  
  .mat-mdc-list-item {
    display: grid !important;
    place-items: center !important;
    width: 72px !important;
    height: 48px !important;
    padding: 0 !important;
    margin: 0 !important;
    
    .mat-mdc-list-item-content {
      display: grid !important;
      place-items: center !important;
      width: 72px !important;
      height: 48px !important;
      padding: 0 !important;
      margin: 0 !important;
    }
    
    .mat-icon {
      grid-area: 1 / 1 !important;
      margin: 0 !important;
      position: static !important;
      transform: none !important;
    }
  }
  
  .mat-divider,
  .mat-mdc-subheader {
    display: none;
  }
}

.sidenav .mat-toolbar {
  background: transparent;
  color: var(--mat-sys-on-surface);
  box-shadow: none;
  border-bottom: 1px solid var(--mat-sys-outline-variant);
}

.close-menu-icon {
  margin-right: 0;
}

/* Additional styling for perfect icon centering in collapsed state */
.mat-drawer.collapsed {
  /* Force override Material's default spacing with very high specificity */
  .mat-mdc-nav-list {
    .mat-mdc-list-item.mdc-list-item.mat-mdc-list-item-interactive {
      padding-left: 0 !important;
      padding-right: 0 !important;
      padding-inline-start: 0 !important;
      padding-inline-end: 0 !important;
      
      .mat-mdc-list-item-content {
        padding-left: 0 !important;
        padding-right: 0 !important;
        padding-inline-start: 0 !important;
        padding-inline-end: 0 !important;
        
        .mat-mdc-list-item-icon {
          margin-inline-start: 0 !important;
          margin-inline-end: 0 !important;
          margin-left: 0 !important;
          margin-right: 0 !important;
        }
      }
    }
  }
  
  /* Override any default Material list item leading/trailing space */
  .mat-mdc-list-item-leading-icon {
    margin-inline-start: 0 !important;
    margin-inline-end: 0 !important;
  }
  
  /* Ensure the icon container itself is centered */
  [matListItemIcon] {
    margin: 0 !important;
    display: flex;
    justify-content: center;
    align-items: center;
  }
}

/* Alternative approach: Use transforms and absolute positioning for guaranteed centering */
.mat-drawer.collapsed {
  /* Reset all list items to use transform-based centering */
  .mat-mdc-list-item {
    position: relative !important;
    margin-bottom: 0 !important; /* Override global margin */
    
    /* Hide all content except the icon */
    .mat-mdc-list-item-content {
      width: 72px !important;
      overflow: hidden !important;
      position: relative !important;
      height: 48px !important; /* Set explicit height */
    }
    
    /* Center the icon using absolute positioning */
    .mat-icon[matListItemIcon] {
      position: absolute !important;
      left: 50% !important;
      top: 50% !important;
      transform: translate(-50%, -50%) !important;
      margin: 0 !important;
    }
  }
}

/* Fallback: More aggressive centering for any icons that don't use matListItemIcon */
.mat-drawer.collapsed .mat-mdc-nav-list .mat-mdc-list-item .mat-icon {
  position: absolute !important;
  left: 50% !important;
  top: 50% !important;
  transform: translate(-50%, -50%) !important;
  margin: 0 !important;
}

.mat-mdc-list-item .mat-icon {
  margin-right: 0.75rem;
  color: var(--mat-sys-on-surface-variant);
}

.mat-expansion-panel-header-title .mat-icon {
  margin-right: 0.75rem;
  color: var(--mat-sys-on-surface-variant);
}

.mat-toolbar {
  padding-left: 0;
  position: sticky;
  top: 0;
  z-index: 1000;
  background-color: var(--mat-sys-primary);
  color: var(--mat-sys-on-primary);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
  height: 64px;
}

/* Only apply white text to the main app toolbar with primary color */
.mat-toolbar.mat-primary {
  // Force all text and icons to be white for better contrast
  * {
    color: #ffffff !important;
  }
  
  .mat-icon {
    color: #ffffff !important;
  }
  
  .mat-mdc-icon-button {
    color: #ffffff !important;
    
    .mat-icon {
      color: #ffffff !important;
    }
  }
  
  .mat-mdc-button {
    color: #ffffff !important;
  }
  
  // Ensure tooltip text remains readable
  .mat-mdc-tooltip {
    color: #1b1c20 !important;
    background-color: #ffffff !important;
  }
}

.toolbar-divider {
  padding-left: 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.toolbar-divider-right {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.profile-name {
  font-weight: 500;
}

.example-spacer {
  flex: 1 1 auto;
}

/* Material 3 improvements */
.mat-mdc-icon-button {
  border-radius: 12px;
}

/* Material 3 navigation subheader styling */
.mat-mdc-subheader {
  color: var(--mat-sys-on-surface-variant);
  font-weight: 500;
  font-size: 0.875rem;
  margin: 1rem 0 0.5rem 0;
  padding: 0 1rem;
}

/* Material 3 divider styling in navigation */
.mat-mdc-nav-list .mat-divider {
  margin: 0.5rem 0;
  border-color: var(--mat-sys-outline-variant);
}
